<?xml version="1.0"?>
<s:Group xmlns:fx="http://ns.adobe.com/mxml/2009"
		 xmlns:s="library://ns.adobe.com/flex/spark"
		 xmlns:layouts="ssen.components.layouts.*"

		 initialize="init()">

	<fx:Script>
		<![CDATA[
		import mx.collections.ArrayList;
		import mx.collections.IList;

		import ssen.datakit.binders.SelectionDataBinder;

		[Bindable]
		private var data:IList;

		[Bindable]
		private var itemCounts:SelectionDataBinder;

		[Bindable]
		private var maxRowCounts:SelectionDataBinder = new SelectionDataBinder([-1, 1, 2, 3, 4]);

		[Bindable]
		private var maxColumnCounts:SelectionDataBinder = new SelectionDataBinder([-1, 1, 2, 3, 4]);

		[Bindable]
		private var orientations:SelectionDataBinder = new SelectionDataBinder(["rows", "columns"]);

		private function init():void {
			var f:int = 0;
			var fmax:int = 40;
			var arr:Array = [];

			while (++f < fmax) {
				arr.push(f);
			}

			itemCounts = new SelectionDataBinder(arr, 1);

			refreshData();
		}

		private function refreshData():void {
			var arr:Array = [];
			var f:int = -1;
			var fmax:int = itemCounts.selectedValue;
			while (++f < fmax) {
				arr.push(f + 1);
			}
			data = new ArrayList(arr);
		}
		]]>
	</fx:Script>

	<s:HGroup left="10" top="10" verticalAlign="middle">
		<s:Label text="item count"/>
		<s:DropDownList dataProvider="{itemCounts.list}"
						selectedIndex="@{itemCounts.selectedIndex}"
						change="refreshData()"/>

		<s:Label text="max rows"/>
		<s:DropDownList dataProvider="{maxRowCounts.list}"
						selectedIndex="@{maxRowCounts.selectedIndex}"/>

		<s:Label text="max columns"/>
		<s:DropDownList dataProvider="{maxColumnCounts.list}"
						selectedIndex="@{maxColumnCounts.selectedIndex}"/>

		<s:Label text="orientation"/>
		<s:DropDownList dataProvider="{orientations.list}"
						selectedIndex="@{orientations.selectedIndex}"/>
	</s:HGroup>

	<s:HGroup left="10" top="40" verticalAlign="middle">
		<s:Label text="horizontal gap"/>
		<s:NumericStepper id="hgap" minimum="0" maximum="20" value="10"/>

		<s:Label text="vertical gap"/>
		<s:NumericStepper id="vgap" minimum="0" maximum="20" value="10"/>

		<s:Label text="padding:ltrb"/>
		<s:NumericStepper id="paddingLeft" minimum="0" maximum="30" value="0"/>
		<s:NumericStepper id="paddingRight" minimum="0" maximum="30" value="0"/>
		<s:NumericStepper id="paddingTop" minimum="0" maximum="30" value="0"/>
		<s:NumericStepper id="paddingBottom" minimum="0" maximum="30" value="0"/>
	</s:HGroup>

	<s:Rect left="10" right="10" top="70" bottom="10">
		<s:fill>
			<s:SolidColor alpha="0.2"/>
		</s:fill>
	</s:Rect>

	<s:DataGroup dataProvider="{data}" left="10" right="10" top="70" bottom="10">
	<!--<s:DataGroup dataProvider="{data}" left="10" top="70" width="800" height="600">-->
		<s:layout>
			<layouts:FlexibleTileLayout maxRowCount="{maxRowCounts.selectedValue}"
										maxColumnCount="{maxColumnCounts.selectedValue}"
										orientation="{orientations.selectedValue}"
										horizontalGap="{hgap.value}"
										verticalGap="{vgap.value}"
										paddingLeft="{paddingLeft.value}"
										paddingRight="{paddingRight.value}"
										paddingTop="{paddingTop.value}"
										paddingBottom="{paddingBottom.value}"/>
		</s:layout>
		<s:itemRenderer>
			<fx:Component>
				<s:ItemRenderer minWidth="100" minHeight="100">
					<s:Label width="100%" height="100%" backgroundColor="#aaaaaa" text="{data}"/>
				</s:ItemRenderer>
			</fx:Component>
		</s:itemRenderer>
	</s:DataGroup>
</s:Group>
